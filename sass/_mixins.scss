// SASS Poort80 mixins

// ---------------------------------------------
// Reset margins and padding
// ---------------------------------------------

@mixin reset() {
	margin: 0;
	padding: 0;
}

// ---------------------------------------------
// PIE.htc, Win/IE enhancement
// var $dir-htc is listed in _config.scss
// ---------------------------------------------

@mixin pieHtc() {
	behavior: url(#{$dir-htc}PIE.htc);
}

// ---------------------------------------------
// boxsizing.htc, Win/IE enhancement
// var $dir-htc is listed in _config.scss
// ---------------------------------------------

@mixin boxsizingHtc(){
	behavior: url(#{$dir-htc}boxsizing.htc);
}

// ---------------------------------------------
// Border-radius
// ---------------------------------------------

@mixin border-radius($radius: 5px) {
	@include prefix-selector(border-radius, $radius);
	@include prefix-selector(background-clip, padding);

	// Using Modernizr for Win/IE 8 and lower
	.lte8 & {
		zoom: 1;
		border-radius: $radius;
		@include pieHtc;
	}
}

// ---------------------------------------------
// Box-shadow
// Alas, we can't use the prefix-selector mixin here
// ---------------------------------------------

@mixin box-shadow($x: 0, $y: 5px, $spread: 5px, $color: #000000, $alpha: 0.5, $inset:"") {
	-webkit-box-shadow: #{$inset} $x $y $spread transparentize($color, 1 - $alpha);
	   -moz-box-shadow: #{$inset} $x $y $spread transparentize($color, 1 - $alpha);
	   	-ms-box-shadow: #{$inset} $x $y $spread transparentize($color, 1 - $alpha);
	   	 -o-box-shadow: #{$inset} $x $y $spread transparentize($color, 1 - $alpha);
	        box-shadow: #{$inset} $x $y $spread transparentize($color, 1 - $alpha);

	.lte8 & {
		box-shadow: #{$inset} $x $y $spread lighten($color, $alpha * 100%);
		@include pieHtc;
	}
}

// ---------------------------------------------
// Opacity
// ---------------------------------------------

@mixin opacity($opacity: 1) {
	opacity: $opacity;

	// Using Modernizr for Win/IE 8 and lower
	.lte8 & {
		filter: alpha(opacity=#{$opacity*100});
	}	
}

// ---------------------------------------------
// Gradients
// Alas, we can't use the prefix-selector mixin here
// ---------------------------------------------

@mixin bg-linear-gradient($color1: #ccc, $color2: #000) {
	background-color: $color2;
	background-image: -webkit-gradient(linear, left top, left bottom, from($color1), to($color2));
	background-image: -webkit-linear-gradient(top, $color1, $color2);
	background-image:    -moz-linear-gradient(top, $color1, $color2);
	background-image:      -o-linear-gradient(top, $color1, $color2);
	background-image:         linear-gradient(to bottom, $color1, $color2);

	.lte9 & {
		zoom: 1;
		-pie-background: linear-gradient($color1, $color2);
		@include pieHtc;
	}
}

// ---------------------------------------------
// Box-sizing
// ---------------------------------------------

// use: 'content-box' or 'border-box'
@mixin box-sizing($method: border-box) {
	@include prefix-selector(box-sizing, $method);

	// Using Modernizr for Win/IE7 and lower
	.lte7 & {
		box-sizing: $method;
		@include boxsizingHtc;
	}
}

// ---------------------------------------------
// Rotation
// ---------------------------------------------

@mixin rotate($deg: 0) {
	@include prefix-selector(transform, rotate(#{$deg}deg));
}

// ---------------------------------------------
// @font-face
// var $dir-font is listed in _config.scss
// Don't forget to add the proper mime-types 
// for these font files in the web server config
// ---------------------------------------------

@mixin font-face($font-name, $font-file, $font-weight: 400, $font-style: 'normal') {
	@font-face {
	    font-family: '#{$font-name}';
	    src: url('#{$dir-font}#{$font-file}.eot');
	    src: url('#{$dir-font}#{$font-file}.eot?#iefix') format('embedded-opentype'),
	         url('#{$dir-font}#{$font-file}.woff') format('woff'),
	         url('#{$dir-font}#{$font-file}.ttf') format('truetype'),
	         url('#{$dir-font}#{$font-file}.svg##{$font-file}') format('svg');
	    font-weight: $font-weight;
	    font-style: $font-style;
	}
}

// ---------------------------------------------
// Vendor prefixes
// var $vendor-prefixes is listed in _config.scss
// ---------------------------------------------

@mixin prefix-selector($property, $value) { 
	@each $prefix in $vendor-prefixes {
		#{$prefix}#{$property}: #{$value};
	}
}

@mixin prefix-value($property, $value) {
	@each $prefix in $vendor-prefixes {
		#{$property}: #{$prefix}#{$value};
	}
}

// ---------------------------------------------
// Clearing method without using overflow:hidden;
// ---------------------------------------------

@mixin clear() {
	&:before, &:after {
		content: "\0020";
		display: block;
		height: 0;
		overflow: hidden;
    }

	&:after {
		clear: both;
	}

	// Win/IE 8 and lower
	.lte8 & {
		zoom: 1;
	}
}

// ---------------------------------------------
// Setting :hover :active :focus
// ---------------------------------------------

@mixin hoverActiveFocus($property, $value) {
	&:hover, &:active, &:focus {
		#{$property}: $value;
	}
}

// ---------------------------------------------
// Background adaptive images (Modernizr)
// ---------------------------------------------

@mixin background-adaptive($file-name, $file-extension: 'png', $background-size: "50% 50%", $svg-version: false) {
	background-image: url($file-name + '.' + $file-extension);
	background-repeat: no-repeat;

  	// Target higher density screens
  	// By using a ratio of 1.5 instead of 2, 
  	// you can target other non-Apple devices with the same query.
  	@media 	(min--moz-device-pixel-ratio: 1.5),
  			(-o-min-device-pixel-ratio: 3/2),
  			(-webkit-min-device-pixel-ratio: 1.5),
  			(min-device-pixel-ratio: 1.5),
  			(min-resolution: 144dpi),
  			(min-resolution: 1.5dppx) {

	  	.no-svg & {
			background-image: url($file-name + '@2x' + '.' + $file-extension);
			background-repeat: no-repeat;
			background-size: $background-size;
		}

		@if $svg-version == true {
			.svg & {
				background-image: url($file-name + '.svg');
				background-repeat: no-repeat;
				background-size: $background-size;
		  	}
		}
  	}
}

// ---------------------------------------------
// Respond to imaginary device category name with MediaQuery
// var $mq-breakpoint-## is listed in _config.scss
// Including Win/IE8 and lower fall-back that don't understand MediaQueries
// ---------------------------------------------

// Only specific device category
@mixin respondTo-only($device-type) {
	@if $device-type == device-smartphone {
		@media (max-width: $mq-breakpoint-01) { @content; }
		.lte8 & { @content; }
	} 
	@else if $device-type == device-tablet {
		@media (min-width: $mq-breakpoint-01) and (max-width: $mq-breakpoint-03) { @content; }
		.lte8 & { @content; }
	} 
	@else if $device-type == device-desktop {
		@media (min-width: $mq-breakpoint-03) and (max-width: $mq-breakpoint-04) { @content; }
		.lte8 & { @content; }
	} 
	@else if $device-type == device-wide {
		@media (min-width: $mq-breakpoint-04) { @content; }
		.lte8 & { @content; }
	}
}

// Minimal divice category width
@mixin respondTo-minimum($device-type) {
	@if $device-type == device-tablet {
		@media (min-width: $mq-breakpoint-01) { @content; }
		.lte8 & { @content; }
	} 
	@else if $device-type == device-desktop {
		@media (min-width: $mq-breakpoint-03) { @content; }
		.lte8 & { @content; }
	} 
	@else if $device-type == device-wide {
		@media (min-width: $mq-breakpoint-04) { @content; }
		.lte8 & { @content; }
	}
	@else if $device-type == device-high-pixel-ratio {
		@media (-webkit-min-device-pixel-ratio: 1.5), 
			(-moz-min-device-pixel-ratio: 1.5), 
			(-o-min-device-pixel-ratio: 3/2),
			(min-device-pixel-ratio: 1.5) {
				@content; 
		}
	}
}